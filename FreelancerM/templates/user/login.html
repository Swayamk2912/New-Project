<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - FreelanceHub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        * { font-family: 'Inter', sans-serif; }

        .gradient-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-gradient { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .input-group { position: relative; }
        .input-group input:focus + label, .input-group input:not(:placeholder-shown) + label { transform: translateY(-25px) scale(0.85); color: #667eea; }
        .input-group label { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); background: white; padding: 0 4px; transition: all 0.2s ease; pointer-events: none; color: #9ca3af; }
        .fade-in { animation: fadeIn 0.6s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .floating-shape { position: absolute; opacity: 0.1; }
        .shape1 { top: 10%; left: 10%; width: 100px; height: 100px; background: #667eea; border-radius: 50%; animation: float 6s ease-in-out infinite; }
        .shape2 { bottom: 10%; right: 10%; width: 150px; height: 150px; background: #764ba2; border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; animation: float 8s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(10deg); } }
        
        /* Loading spinner */
        .spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #667eea;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 10px;
            vertical-align: middle;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .success-checkmark {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }
        .success-checkmark:after {
            content: '';
            display: block;
            width: 8px;
            height: 14px;
            border: solid #fff;
            border-width: 0 3px 3px 0;
            transform: rotate(45deg);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">
    <!-- Background Shapes -->
    <div class="floating-shape shape1"></div>
    <div class="floating-shape shape2"></div>

    <!-- Login Container -->
    <div class="w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden fade-in">
        <div class="md:flex">
            <!-- Left Side - Form -->
            <div class="md:w-1/2 p-8 md:p-12">
                <div class="mb-8">
                    <a href="{% url 'home' %}" class="flex items-center text-gray-600 hover:text-purple-600 transition duration-300">
                        <i class="fas fa-arrow-left mr-2"></i> Back to Home
                    </a>
                </div>

                <div>
                    <h2 class="text-3xl font-bold mb-2">Welcome Back!</h2>
                    <p class="text-gray-600 mb-8">Sign in to continue to your account</p>

                    <!-- Django Login Form -->
                    <form method="POST" action="{% url 'login' %}">
                        {% csrf_token %}
                        
                        <!-- Next parameter for redirect -->
                        <input type="hidden" name="next" value="{% url 'home' %}">

                        <!-- Error Message Container -->
                        <div id="errorMessage" class="{% if not form.errors %}hidden{% endif %} bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
                            {% if form.errors %}
                                <span class="block sm:inline">Your username and password didn't match. Please try again.</span>
                            {% else %}
                                <span class="block sm:inline" id="errorText"></span>
                            {% endif %}
                        </div>

                        <!-- Username -->
                        <div class="input-group mb-6">
                            <input type="text" name="username" id="username" placeholder=" " class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent" required>
                            <label for="username">Username</label>
                        </div>

                        <!-- Password -->
                        <div class="input-group mb-6 relative">
                            <input type="password" name="password" placeholder=" " id="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent" required>
                            <label for="password">Password</label>
                            <button type="button" onclick="togglePassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700">
                                <i id="passwordToggle" class="fas fa-eye"></i>
                            </button>
                        </div>

                        <!-- Remember Me & Forgot Password -->
                        <div class="flex items-center justify-between mb-6">
                            <label class="flex items-center">
                                <input type="checkbox" name="remember" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                <span class="ml-2 text-sm text-gray-600">Remember me</span>
                            </label>
                            <a href="#" class="text-sm text-purple-600 hover:text-purple-700">Forgot password?</a>
                        </div>

                        <!-- Login Button -->
                        <button type="submit" id="loginButton" class="w-full hero-gradient text-white py-3 rounded-lg font-semibold hover:opacity-90 transition duration-300 mb-6">
                            Sign In
                        </button>

                        <!-- Divider -->
                        <div class="relative mb-6">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-300"></div>
                            </div>
                            <div class="relative flex justify-center text-sm">
                                <span class="px-2 bg-white text-gray-500">Or continue with</span>
                            </div>
                        </div>

                        <!-- Social Login Buttons -->
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <button type="button" class="social-btn flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <i class="fab fa-google text-red-500 mr-2"></i> Google
                            </button>
                            <button type="button" class="social-btn flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <i class="fab fa-facebook-f text-blue-600 mr-2"></i> Facebook
                            </button>
                        </div>

                        <p class="text-center text-gray-600">
                            Don't have an account? 
                            <a href="{% url 'register' %}" class="text-purple-600 hover:text-purple-700 font-semibold">Sign up</a>
                        </p>
                    </form>
                </div>
            </div>

            <!-- Right Side - Branding/Image -->
            <div class="md:w-1/2 hero-gradient text-white p-12 flex flex-col justify-center relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -mr-32 -mt-32"></div>
                <div class="absolute bottom-0 left-0 w-48 h-48 bg-white opacity-10 rounded-full -ml-24 -mb-24"></div>
                <div class="relative z-10">
                    <h1 class="text-4xl font-bold mb-4">FreelanceHub</h1>
                    <p class="text-xl mb-8 text-purple-100">Connect with top talent from around the world</p>
                    <div class="mt-8">
                        <img src="https://images.unsplash.com/photo-1573164713714-d95e436ab8d6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Login illustration" class="rounded-lg shadow-2xl">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Toggle password visibility
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const passwordToggle = document.getElementById('passwordToggle');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                passwordToggle.classList.remove('fa-eye');
                passwordToggle.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                passwordToggle.classList.remove('fa-eye-slash');
                passwordToggle.classList.add('fa-eye');
            }
        }

        // Add floating animation to shapes
        document.addEventListener('DOMContentLoaded', function() {
            const shapes = document.querySelectorAll('.floating-shape');
            shapes.forEach(shape => {
                shape.style.animation = `float ${Math.random() * 4 + 6}s ease-in-out infinite`;
            });
            
            // Add form submission handling for better UX
            const loginForm = document.querySelector('form');
            const loginButton = document.getElementById('loginButton');
            
            loginForm.addEventListener('submit', function() {
                // You could add loading animation here if needed
                loginButton.disabled = true;
                loginButton.innerHTML = 'Signing in...';
            });
        });
    </script>
</body>
</html>